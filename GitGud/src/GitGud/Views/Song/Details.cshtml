@model GitGud.Models.Song
@{
    ViewBag.Title = "Details";
}
<div class="container">
    <div class="col-md-12">
        <h2 style="text-align:center">"@Model.Name" - <strong>@Model.ArtistName</strong></h2>
        <div class="col-md-6">
            <h3 style="text-align:left">Listen:</h3>
            <audio controls preload="none">
                <source src="~/uploads/@Model.fileAdress" type="audio/ogg">
                Your browser does not support the audio element.
            </audio>
            <a class="btn btn-default" asp-controller="Song" asp-action="DownloadSong" asp-route-strSongId="@Model.Id">Download</a>
            <a asp-controller="Song" asp-action="DeleteSong" asp-route-strSongId="@Model.Id" class="btn btn-primary">Delete</a>
            <div>Added on @Model.DateUploaded.ToString("d") by <span class="label label-warning">@Model.UploaderName</span></div>
        </div>
        <div class="col-md-6">
            <h3 style="text-align:center">Tags for this song:</h3>
            <ul class="pager">
                @if (Model.Tags.Count > 0)
                {
                    @foreach (var tag in Model.Tags)
                    {
                        <li><a asp-controller="Tag" asp-action="Details" asp-route-tagName="@tag.Name" style="margin:3px">@tag.Name</a></li>
                    }
                }
                else
                {
                    <li>No tags to display :(</li>
                }
            </ul>
        </div>
        <div class="col-md-offset-2 col-md-8" style="margin-bottom:10px">
            <h1 style="text-align:center">Comments</h1>
        </div>
        @Html.Partial("Comments", new GitGud.ViewModels.CommentViewModel())
        <div class="col-md-offset-2 col-md-8" style="margin-top:15px">
            @if (Model.Comments.Count > 0)
            {
                <ul class="list-group">
                    @foreach (var comment in Model.Comments)
                    {
                        <li class="list-group-item">
                            <span class="badge">@comment.Likes</span>

                            <h3>@comment.Content</h3>
                            <div style="text-align:right">
                                <i class="fa fa-thumbs-o-up fa-2x"></i> <i class="fa fa-thumbs-o-down fa-2x"></i>
                            </div>
                        </li>
                    }
                </ul>
            }
        </div>
    </div>
</div>